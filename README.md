# GemRelic - åœ£é—ç‰©å±æ€§ç³»ç»Ÿ

![Minecraft](https://img.shields.io/badge/Minecraft-1.20.x-green)
![Paper](https://img.shields.io/badge/Paper-1.20.x-blue)
![Java](https://img.shields.io/badge/Java-17-orange)
![License](https://img.shields.io/badge/License-Custom-red)

ä¸€ä¸ªä¸º Minecraft Paper 1.20.x æœåŠ¡å™¨å¼€å‘çš„åœ£é—ç‰©å±æ€§ç³»ç»Ÿæ’ä»¶ï¼Œé«˜åº¦è¿˜åŸã€ŠåŸç¥ã€‹çš„åœ£é—ç‰©æ ¸å¿ƒç©æ³•ã€‚

## åŠŸèƒ½ç‰¹æ€§

### å½“å‰å·²å®ç°ï¼ˆv1.0.0ï¼‰

âœ… **åœ£é—ç‰©5éƒ¨ä½ç³»ç»Ÿ**
- ç”Ÿä¹‹èŠ± (FLOWER) - å›ºå®šç”Ÿå‘½å€¼ä¸»è¯æ¡
- æ­»ä¹‹ç¾½ (PLUME) - å›ºå®šæ”»å‡»åŠ›ä¸»è¯æ¡  
- æ—¶ä¹‹æ²™ (SANDS) - å¯å˜ä¸»è¯æ¡ï¼ˆæ”»å‡»%/ç”Ÿå‘½%/é˜²å¾¡%ç­‰ï¼‰
- ç©ºä¹‹æ¯ (GOBLET) - å¯å˜ä¸»è¯æ¡ï¼ˆå…ƒç´ ä¼¤å®³/æ”»å‡»%ç­‰ï¼‰
- ç†ä¹‹å†  (CIRCLET) - å¯å˜ä¸»è¯æ¡ï¼ˆæš´å‡»ç‡/æš´å‡»ä¼¤å®³ç­‰ï¼‰

âœ… **å¥—è£…æ•ˆæœç³»ç»Ÿ**
- 2ä»¶å¥—è£…æ•ˆæœè‡ªåŠ¨æ¿€æ´»
- 4ä»¶å¥—è£…æ•ˆæœè‡ªåŠ¨æ¿€æ´»
- å®æ—¶å±æ€§ä¿®é¥°åº”ç”¨ï¼ˆåŸç‰ˆAttributeç³»ç»Ÿï¼‰
- å¥—è£…ä»¶æ•°ç»Ÿè®¡ä¸æ˜¾ç¤º

âœ… **GUIç•Œé¢ç³»ç»Ÿ**
- **ä¸»èœå•**: ç³»ç»Ÿæ€»å…¥å£ï¼Œè¿æ¥å„åŠŸèƒ½é¡µé¢
- **è£…å¤‡é¡µé¢**: æŸ¥çœ‹å·²è£…å¤‡åœ£é—ç‰©ï¼Œæ”¯æŒå¸ä¸‹æ“ä½œ
- **ä»“åº“é¡µé¢**: ç®¡ç†ä»“åº“åœ£é—ç‰©ï¼Œæ”¯æŒè£…å¤‡/å–å‡ºåˆ°èƒŒåŒ…
- **å¤šç§äº¤äº’**: æ‹–åŠ¨æ”¾å…¥ã€Shift-ç‚¹å‡»å¿«é€Ÿå­˜å…¥
- åˆ†é¡µæµè§ˆã€éƒ¨ä½ç­›é€‰ã€æ“ä½œæç¤ºã€ç©ºä»“åº“æ™ºèƒ½æç¤º

âœ… **æ•°æ®å­˜å‚¨ç³»ç»Ÿ** ğŸ†•
- **ç‹¬ç«‹å­˜å‚¨ç³»ç»Ÿ**ï¼ˆæ¨èï¼‰: ç±»ä¼¼æœ«å½±ç®±åŸç†ä½†ä¸å ç”¨æœ«å½±ç®±ç©ºé—´
  - é‡‡ç”¨äºŒè¿›åˆ¶DATæ–‡ä»¶ï¼Œåˆ©ç”¨MinecraftåŸç”Ÿåºåˆ—åŒ–
  - æ•°æ®å®æ—¶æŒä¹…åŒ–ï¼Œå¯é æ€§100%
  - å­˜å‚¨è·¯å¾„: `plugins/GemRelic/relic_storage/<uuid>.dat`
- **YAMLå­˜å‚¨**ï¼ˆå‘åå…¼å®¹ï¼‰: ä¼ ç»Ÿæ–‡ä»¶å­˜å‚¨æ–¹å¼
- **è‡ªåŠ¨æ•°æ®è¿ç§»**: ç™»å½•æ—¶è‡ªåŠ¨ä»YAMLè¿ç§»åˆ°ç‹¬ç«‹å­˜å‚¨
- åœ£é—ç‰©â†”ItemStackåŒå‘è½¬æ¢
- PersistentDataContaineråµŒå…¥å¼å­˜å‚¨

âœ… **å‘½ä»¤ç³»ç»Ÿ**
- `/relic open` - æ‰“å¼€åœ£é—ç‰©ç³»ç»Ÿä¸»èœå•
- `/relic list` - æŸ¥çœ‹å·²é…ç½®çš„å¥—è£…
- `/relic test` - æ·»åŠ æµ‹è¯•åœ£é—ç‰©ï¼ˆä»“åº“+èƒŒåŒ…ï¼‰
- `/relic reload` - é‡è½½é…ç½®
- `/relic migrate` - æ•°æ®è¿ç§»å·¥å…·ï¼ˆç®¡ç†å‘˜ï¼‰
- `/relic migration-status` - æŸ¥çœ‹è¿ç§»çŠ¶æ€ï¼ˆç®¡ç†å‘˜ï¼‰
- **ä¸‰å±‚ Tab è¡¥å…¨**: å­å‘½ä»¤ â†’ éƒ¨ä½ â†’ å¥—è£…ID

âœ… **AttributePluså…¼å®¹**
- è½¯ä¾èµ–æ”¯æŒï¼Œè‡ªåŠ¨æ£€æµ‹APæ’ä»¶
- é…ç½®åŒ–å±æ€§æ˜ å°„ï¼ˆæš´å‡»ç‡ã€æ”»é€Ÿã€ç§»é€Ÿç­‰ï¼‰
- ä¼˜é›…é™çº§ï¼ˆæœªå®‰è£…APæ—¶ä»æ­£å¸¸å·¥ä½œï¼‰

### è§„åˆ’ä¸­çš„åŠŸèƒ½

ğŸ”² **éšæœºç”Ÿæˆç³»ç»Ÿ**
- pools.yml - ä¸»å‰¯è¯æ¡æƒé‡é…ç½®
- rarity.yml - 1-5æ˜Ÿç¨€æœ‰åº¦ä¸ç­‰çº§ä¸Šé™
- drops.yml - æ‰è½æºé…ç½®

ğŸ”² **å¼ºåŒ–ç³»ç»Ÿ**  
- ç»éªŒæ›²çº¿ä¸å‡çº§
- +5çº§è·³å‰¯è¯æ¡æœºåˆ¶
- åœ£é—ç‰©åˆ†è§£ä¸ç²¾ç²¹

ğŸ”² **é«˜çº§åŠŸèƒ½**
- åœ£é—ç‰©é”å®šé˜²æŠ¤
- å¥—è£…å›¾é‰´ä¸æ”¶é›†è¿›åº¦
- å‰¯è¯æ¡é‡æ·ä¸æ´—ç»ƒ

## é¡¹ç›®ç»“æ„

```
Minecraft-GemRelic/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/com/lymc/gemrelic/
â”‚       â”‚   â”œâ”€â”€ GemRelicPlugin.java          # æ’ä»¶ä¸»ç±»
â”‚       â”‚   â”œâ”€â”€ command/
â”‚       â”‚   â”‚   â””â”€â”€ RelicCommand.java        # åœ£é—ç‰©å‘½ä»¤å¤„ç†å™¨
â”‚       â”‚   â”œâ”€â”€ gui/
â”‚       â”‚   â”‚   â”œâ”€â”€ RelicMainMenuGUI.java    # ä¸»èœå•ç•Œé¢
â”‚       â”‚   â”‚   â”œâ”€â”€ RelicEquipmentGUI.java   # è£…å¤‡ç®¡ç†ç•Œé¢
â”‚       â”‚   â”‚   â””â”€â”€ RelicWarehouseGUI.java   # ä»“åº“ç®¡ç†ç•Œé¢
â”‚       â”‚   â”œâ”€â”€ listener/
â”‚       â”‚   â”‚   â”œâ”€â”€ PlayerListener.java      # ç©å®¶äº‹ä»¶ç›‘å¬å™¨
â”‚       â”‚   â”‚   â””â”€â”€ RelicGUIListener.java    # GUIäº¤äº’ç›‘å¬å™¨
â”‚       â”‚   â”œâ”€â”€ manager/
â”‚       â”‚   â”‚   â”œâ”€â”€ RelicManager.java        # åœ£é—ç‰©ç®¡ç†å™¨
â”‚       â”‚   â”‚   â””â”€â”€ RelicProfileManager.java # ç©å®¶æ¡£æ¡ˆç®¡ç†å™¨ï¼ˆYAMLï¼‰
â”‚       â”‚   â”œâ”€â”€ storage/                     # ğŸ†• å­˜å‚¨å±‚
â”‚       â”‚   â”‚   â”œâ”€â”€ IRelicProfileManager.java     # å­˜å‚¨æ¥å£
â”‚       â”‚   â”‚   â”œâ”€â”€ StorageFactory.java           # å­˜å‚¨å·¥å‚
â”‚       â”‚   â”‚   â”œâ”€â”€ RelicInventoryStorage.java    # ç‹¬ç«‹å­˜å‚¨
â”‚       â”‚   â”‚   â”œâ”€â”€ InventoryProfileManager.java  # ç‹¬ç«‹å­˜å‚¨ç®¡ç†å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ EnderChestStorage.java        # æœ«å½±ç®±å­˜å‚¨ï¼ˆå¤‡ç”¨ï¼‰
â”‚       â”‚   â”‚   â”œâ”€â”€ EnderChestProfileManager.java # æœ«å½±ç®±ç®¡ç†å™¨ï¼ˆå¤‡ç”¨ï¼‰
â”‚       â”‚   â”‚   â””â”€â”€ DataMigration.java            # æ•°æ®è¿ç§»
â”‚       â”‚   â”œâ”€â”€ relic/
â”‚       â”‚   â”‚   â”œâ”€â”€ RelicData.java           # åœ£é—ç‰©æ•°æ®æ¨¡å‹
â”‚       â”‚   â”‚   â”œâ”€â”€ RelicSlot.java           # éƒ¨ä½æšä¸¾
â”‚       â”‚   â”‚   â”œâ”€â”€ RelicRarity.java         # ç¨€æœ‰åº¦æšä¸¾
â”‚       â”‚   â”‚   â”œâ”€â”€ RelicStatType.java       # å±æ€§ç±»å‹æšä¸¾
â”‚       â”‚   â”‚   â””â”€â”€ PlayerRelicProfile.java  # ç©å®¶æ¡£æ¡ˆ
â”‚       â”‚   â”œâ”€â”€ service/
â”‚       â”‚   â”‚   â”œâ”€â”€ RelicEffectService.java  # å¥—è£…æ•ˆæœæœåŠ¡
â”‚       â”‚   â”‚   â””â”€â”€ AttributePlusBridge.java # APå…¼å®¹æ¡¥æ¥
â”‚       â”‚   â””â”€â”€ util/
â”‚       â”‚       â”œâ”€â”€ RelicIO.java             # åºåˆ—åŒ–å·¥å…·
â”‚       â”‚       â””â”€â”€ RelicItemConverter.java  # ç‰©å“è½¬æ¢å™¨
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ plugin.yml                   # æ’ä»¶æè¿°æ–‡ä»¶
â”‚           â”œâ”€â”€ config.yml                   # ä¸»é…ç½®æ–‡ä»¶
â”‚           â””â”€â”€ relics/
â”‚               â””â”€â”€ sets.yml                 # å¥—è£…å®šä¹‰æ–‡ä»¶
â”œâ”€â”€ pom.xml                                  # Maven é…ç½®
â””â”€â”€ README.md                                # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬
- Maven 3.6+
- Paper 1.20.x æœåŠ¡å™¨

### ç¼–è¯‘æ’ä»¶

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/SaltedDoubao/Minecraft-GemRelic.git
cd Minecraft-GemRelic

# ä½¿ç”¨ Maven ç¼–è¯‘
mvn clean package

# ç¼–è¯‘åçš„ jar æ–‡ä»¶ä½äº target/ ç›®å½•
```

### å®‰è£…æ’ä»¶

1. å°†ç¼–è¯‘å¥½çš„ `gemrelic-1.0.0.jar` æ”¾å…¥æœåŠ¡å™¨çš„ `plugins` æ–‡ä»¶å¤¹
2. é‡å¯æœåŠ¡å™¨æˆ–ä½¿ç”¨ PluginManager åŠ è½½æ’ä»¶
3. æ’ä»¶å°†è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶åˆ° `plugins/GemRelic/` ç›®å½•

### é…ç½®è¯´æ˜

#### relics/sets.yml

å®šä¹‰å¥—è£…ç±»å‹å’Œæ•ˆæœï¼š

```yaml
sets:
  gladiator:                         # å¥—è£…ID
    id: gladiator                    # å†…éƒ¨ID
    name: "è§’æ–—å£«çš„ç»ˆå¹•ç¤¼"            # å¥—è£…æ˜¾ç¤ºåç§°
    bonuses:                         # å¥—è£…æ•ˆæœ
      two_piece_desc:                # 2ä»¶å¥—è£…æ•ˆæœæè¿°
        - "æ”»å‡»åŠ›+18%"
      four_piece_desc:               # 4ä»¶å¥—è£…æ•ˆæœæè¿°  
        - "æŒå‰‘/åŒæ‰‹å‰‘/é•¿æŸ„æ­¦å™¨æ—¶ï¼Œæ™®é€šæ”»å‡»é€ æˆçš„ä¼¤å®³æå‡35%"
```

#### config.yml

ä¸»é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«åœ£é—ç‰©ç³»ç»Ÿè®¾ç½®å’ŒAttributePlusé›†æˆé…ç½®ï¼š

```yaml
# åœ£é—ç‰©ç³»ç»Ÿè®¾ç½®
relic:
  enabled: true                      # æ˜¯å¦å¯ç”¨ç³»ç»Ÿ
  storage_mode: INVENTORY            # å­˜å‚¨æ–¹å¼: YAML | INVENTORY
  
  # ç‹¬ç«‹å­˜å‚¨è®¾ç½®ï¼ˆæ¨èï¼‰
  inventory_storage:
    auto_migrate: true               # è‡ªåŠ¨è¿ç§»YAMLæ•°æ®
    keep_backup: true                # ä¿ç•™å¤‡ä»½
    file_format: DAT                 # æ–‡ä»¶æ ¼å¼

# AttributePlusé›†æˆ
integration:
  attributeplus:
    enabled: true                    # æ˜¯å¦å¯ç”¨APé›†æˆ
    stat_map:                        # å±æ€§æ˜ å°„è¡¨
      CRIT_RATE: crit_chance         # æš´å‡»ç‡ â†’ APæš´å‡»æ¦‚ç‡
      ATK_SPEED: attack_speed        # æ”»é€Ÿ â†’ APæ”»å‡»é€Ÿåº¦
```

## ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬æ“ä½œæµç¨‹

```bash
# 1. æ·»åŠ æµ‹è¯•åœ£é—ç‰©åˆ°ä»“åº“
/relic test

# 2. æ‰“å¼€åœ£é—ç‰©ç³»ç»Ÿä¸»èœå•
/relic open

# 3. GUIæ“ä½œï¼š
# - ç‚¹å‡»"è£…å¤‡ç®¡ç†" â†’ æŸ¥çœ‹å½“å‰ç©¿æˆ´
# - ç‚¹å‡»"ä»“åº“ç®¡ç†" â†’ ç®¡ç†åœ£é—ç‰©
```

### GUIæ“ä½œæŒ‡å—

#### ä¸»èœå•æ“ä½œ
- ğŸ›¡ï¸ **è£…å¤‡ç®¡ç†** - æŸ¥çœ‹å’Œç®¡ç†å·²è£…å¤‡çš„5ä»¶åœ£é—ç‰©
- ğŸ“¦ **ä»“åº“ç®¡ç†** - ç®¡ç†ä»“åº“ä¸­çš„åœ£é—ç‰©

#### è£…å¤‡é¡µé¢æ“ä½œ  
- **ç‚¹å‡»å·²è£…å¤‡åœ£é—ç‰©** â†’ å¸ä¸‹åˆ°ä»“åº“
- **æŸ¥çœ‹å¥—è£…åŠ æˆ** â†’ å³ä¾§æ˜¾ç¤ºå½“å‰å¥—è£…ä»¶æ•°ä¸æ•ˆæœ

#### ä»“åº“é¡µé¢æ“ä½œ
- **å·¦é”®åœ£é—ç‰©** â†’ è£…å¤‡åˆ°å¯¹åº”éƒ¨ä½
- **å³é”®åœ£é—ç‰©** â†’ å–å‡ºåˆ°èƒŒåŒ…
- **æ‹–åŠ¨æ”¾å…¥** ğŸ†• â†’ å°†å…‰æ ‡ä¸Šçš„åœ£é—ç‰©æ‹–å…¥ä»“åº“åŒºåŸŸæ”¾å…¥
- **Shift-ç‚¹å‡»** ğŸ†• â†’ åœ¨èƒŒåŒ…ä¸­Shift-ç‚¹å‡»åœ£é—ç‰©å¿«é€Ÿå­˜å…¥
- **ç­›é€‰æŒ‰é’®** â†’ æŒ‰éƒ¨ä½ç­›é€‰æ˜¾ç¤º
- **ç¿»é¡µæŒ‰é’®** â†’ æµè§ˆæ›´å¤šåœ£é—ç‰©
- **æ”¾å…¥æŒ‰é’®** â†’ ä»èƒŒåŒ…æ”¶é›†æ‰€æœ‰åœ£é—ç‰©ç‰©å“

### å‘½ä»¤åˆ—è¡¨

#### ç©å®¶å‘½ä»¤
```bash
# æ‰“å¼€åœ£é—ç‰©ç³»ç»Ÿä¸»èœå•
/relic open

# æŸ¥çœ‹å·²é…ç½®çš„å¥—è£…
/relic list

# æ·»åŠ æµ‹è¯•åœ£é—ç‰©ï¼ˆä»“åº“5ä»¶+èƒŒåŒ…3ä»¶ï¼‰
/relic test

# è£…å¤‡åœ£é—ç‰©ï¼ˆæµ‹è¯•ç”¨ï¼‰
/relic equip <éƒ¨ä½> <å¥—è£…ID>

# å¸ä¸‹åœ£é—ç‰©ï¼ˆæµ‹è¯•ç”¨ï¼‰
/relic unequip <éƒ¨ä½>
```

#### ç®¡ç†å‘˜å‘½ä»¤
```bash
# é‡è½½é…ç½®æ–‡ä»¶
/relic reload

# æ•°æ®è¿ç§»åˆ°ç‹¬ç«‹å­˜å‚¨ç³»ç»Ÿ
/relic migrate

# æŸ¥çœ‹æ•°æ®è¿ç§»çŠ¶æ€
/relic migration-status
```

## å¼€å‘æ–‡æ¡£

### æ ¸å¿ƒæ¶æ„

#### æ•°æ®æ¨¡å‹å±‚ (relic/)
- **RelicData**: å•ä»¶åœ£é—ç‰©å®Œæ•´æ•°æ®
- **RelicSlot**: 5ä¸ªéƒ¨ä½æšä¸¾
- **RelicRarity**: 1-5æ˜Ÿç¨€æœ‰åº¦
- **RelicStatType**: ä¸»å‰¯è¯æ¡ç±»å‹å®šä¹‰
- **PlayerRelicProfile**: ç©å®¶æ¡£æ¡ˆï¼ˆå·²è£…å¤‡+ä»“åº“ï¼‰

#### ç®¡ç†å±‚ (manager/)
- **RelicManager**: å¥—è£…é…ç½®ç®¡ç†
- **RelicProfileManager**: ç©å®¶æ¡£æ¡ˆæŒä¹…åŒ–ï¼ˆYAMLæ¨¡å¼ï¼‰

#### å­˜å‚¨å±‚ (storage/) ğŸ†•
- **IRelicProfileManager**: å­˜å‚¨æ¥å£å®šä¹‰
- **StorageFactory**: å­˜å‚¨æ–¹å¼å·¥å‚
- **RelicInventoryStorage**: ç‹¬ç«‹å­˜å‚¨å®ç°
- **InventoryProfileManager**: ç‹¬ç«‹å­˜å‚¨æ¡£æ¡ˆç®¡ç†å™¨
- **DataMigration**: æ•°æ®è¿ç§»å·¥å…·

#### æœåŠ¡å±‚ (service/)
- **RelicEffectService**: å¥—è£…æ•ˆæœè®¡ç®—ä¸åº”ç”¨
- **AttributePlusBridge**: APæ’ä»¶å…¼å®¹æ¡¥æ¥
- **StatAggregationService**: å±æ€§èšåˆè®¡ç®—

#### GUIå±‚ (gui/)
- **RelicMainMenuGUI**: ç³»ç»Ÿä¸»èœå•
- **RelicEquipmentGUI**: è£…å¤‡ç®¡ç†ç•Œé¢
- **RelicWarehouseGUI**: ä»“åº“ç®¡ç†ç•Œé¢

### æ‰©å±•æŒ‡å—

åœ£é—ç‰©ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ‰©å±•æ–°åŠŸèƒ½çš„æ¨èæ­¥éª¤ï¼š

1. **æ•°æ®æ¨¡å‹**: åœ¨ `relic/` åŒ…ä¸­å®šä¹‰æ–°çš„æ•°æ®ç»“æ„
2. **ä¸šåŠ¡é€»è¾‘**: åœ¨ `service/` åŒ…ä¸­å®ç°æ ¸å¿ƒé€»è¾‘  
3. **æ•°æ®ç®¡ç†**: åœ¨ `manager/` åŒ…ä¸­æ·»åŠ æ•°æ®ç®¡ç†
4. **ç”¨æˆ·ç•Œé¢**: åœ¨ `gui/` åŒ…ä¸­åˆ›å»ºäº¤äº’ç•Œé¢
5. **ä¸»ç±»æ³¨å†Œ**: åœ¨ `GemRelicPlugin.java` ä¸­æ³¨å†Œæ–°ç»„ä»¶

## æƒé™èŠ‚ç‚¹

| æƒé™èŠ‚ç‚¹ | è¯´æ˜ | é»˜è®¤ |
|---------|------|------|
| `gemrelic.user` | ä½¿ç”¨ /relic åŸºç¡€å‘½ä»¤ | true |
| `gemrelic.admin` | ç®¡ç†å‘˜æƒé™ï¼ˆé‡è½½é…ç½®ç­‰ï¼‰ | OP |

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ [Issue](../../issues) å’Œ [Pull Request](../../pulls)ï¼

---
