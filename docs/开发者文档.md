# 开发者文档

本文件面向二次开发者，概述工程结构与关键模块对接点。

## 项目结构

为避免重复，请参阅结构专用文档：《docs/项目结构.md》。

## 架构概览

- 数据模型（`relic/`）：`RelicData`、`RelicSlot`、`RelicStatType` 等
- 存储层（`storage/`）：`RelicInventoryStorage`（v3，ItemStack直序列化，仓库最大2000）、`InventoryProfileManager`
- 业务层（`service/`）：`RelicEffectService`、`StatAggregationService`、`AttributePlusBridge`
- 展示层（`gui/`）：主菜单、装备、仓库 GUI
- 命令层（`command/`）：`/relic` 命令与Tab补全

## 关键变更（v1.0.0+）

- 独立存储改为 v3 格式：装备位 + 动态仓库列表（BukkitObject 流），兼容旧版数据读入
- 初始化顺序：确保 `RelicItemConverter` 在 `StorageFactory` / `InventoryProfileManager` 之前创建
- 日志简化：移除后台“玩家圣遗物数据状态”常规输出，减少噪音

## 开发建议

- 扩展词条/套装：修改 `relics/sets.yml` 与 `RelicManager`
- 新的属性逻辑：在 `service/` 中新增服务并在 `GemRelicPlugin` 中注入
- GUI 扩展：遵循现有 `RelicWarehouseGUI` 分页/筛选范式

## 构建与调试

- 推荐使用仓库根目录 `build_jar.bat` 进行构建（集成 Maven）
- 目标 JAR：`target/gemrelic-1.0.0.jar`
- Paper 服务端版本：1.20.x，Java 17+
